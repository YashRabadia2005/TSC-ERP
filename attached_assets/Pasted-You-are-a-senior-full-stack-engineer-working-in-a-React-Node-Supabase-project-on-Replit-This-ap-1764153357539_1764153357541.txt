You are a senior full-stack engineer working in a React + Node + Supabase project on Replit.
This app is for a Sugar Factory ERP.
I want you to create a complete Products & Materials Dashboard for:
Finished Products
By-products
Raw Materials
Consumables
The dashboard must:
Show all items in a structured way
Have working buttons (filters, add, edit, delete, refresh, etc.)
Have a search bar
Segregate product types clearly (like a dashboard view with categories)
ğŸ¯ MAIN GOAL
Build a â€œProducts & Materials Dashboardâ€ page that:
Lists all items used in Sugar Factory:
Products (e.g., sugar)
By-products (molasses, bagasse, press-mud)
Raw materials (cane, lime, sulphur, chemicals)
Consumables (lubricants, packaging, office consumables, etc.)
Has four main category buttons or tabs:
All
Products
By-products
Raw Materials
Consumables
(You can group them as buttons, chips, or tabs at the top.)
Has a search bar that can search by:
Item name
Item code / SKU
Shows segregated product columns / sections like a dashboard:
A table or grid with columns like:
Category
Item Code
Item Name
Unit (kg, MT, litre, bags, etc.)
Current Stock
Reorder Level
Status (OK / Low / Out of Stock)
Shows summary cards at the top:
Total Products
Total By-products
Total Raw Materials
Total Consumables
Total SKUs
All UI elements and buttons must actually work (no dummy buttons).
ğŸ§± STEP 1 â€“ DATA MODEL (SUPABASE)
Assume or create a Supabase table for items, something like:
Table: items (or products_master)
id (PK)
item_code (unique)
item_name
category (product, by_product, raw_material, consumable)
unit (e.g., â€œMTâ€, â€œkgâ€, â€œlitreâ€, â€œbagsâ€)
current_stock (numeric)
reorder_level (numeric)
is_active (boolean)
created_at, updated_at
Show me the SQL definition of this table suitable for Supabase (CREATE TABLE ...).
Use Supabase JS client in backend or frontend (depending on current project architecture) to read/write.
ğŸ§± STEP 2 â€“ BACKEND APIs (NODE)
If the project already has an API layer, add these endpoints under something like /api/items:
GET /api/items
Query params:
category (optional) â†’ filter by product type
search (optional) â†’ search by name or code
POST /api/items
Create new item
PUT /api/items/:id
Update item
DELETE /api/items/:id
Soft delete or set is_active = false (prefer soft delete)
Requirements:
Use Supabase client to perform CRUD operations.
Handle errors with try/catch and return meaningful JSON responses.
Validate mandatory fields (item_name, category, unit).
If an API layer already exists, integrate into that style (same folder structure, same way of routing).
ğŸ§± STEP 3 â€“ FRONTEND DASHBOARD (REACT)
Create a dedicated React page or component, e.g.:
src/pages/ProductsDashboard.jsx (or similar path that matches the project structure).
This page should include:
1. Header + Summary Cards
Title: â€œProducts & Materials Dashboard â€“ Sugar Factoryâ€
Cards at top (4â€“5 cards):
Total Products
Total By-products
Total Raw Materials
Total Consumables
Total Active Items
Values should be calculated dynamically from fetched data.
2. Category Filter Buttons (Fully Functional)
Just below the cards, add category filter buttons like:
â€œAllâ€
â€œProductsâ€
â€œBy-productsâ€
â€œRaw Materialsâ€
â€œConsumablesâ€
Clicking these buttons should:
Update a React state selectedCategory
Trigger filtering:
Either on the frontend (if all data already loaded) OR
By calling GET /api/items?category=product etc.
Highlight active button (e.g., blue background).
3. Search Bar (Fully Functional)
Add a search input box (top-right or above table)
When user types and presses Enter or clicks Search:
Filter items by name/code
Either:
Filter in React state, or
Call API: GET /api/items?search=abc
Debounce input if possible, to avoid too many calls.
4. Main Table / Grid â€“ Segregated Columns
Display items in a table with these columns:
Category (show in a badge/pill)
Item Code
Item Name
Unit
Current Stock
Reorder Level
Status (e.g.:
â€œOKâ€ if current_stock > reorder_level
â€œLowâ€ if current_stock <= reorder_level
â€œOut of Stockâ€ if current_stock <= 0
)
Actions (Edit / Delete buttons)
Allow sorting by:
Item Name
Category
Current Stock
5. Action Buttons (MUST BE FUNCTIONAL)
Add New Item button:
Opens a modal or side form.
Fields: category, item code, name, unit, current stock, reorder level.
On Save â†’ calls POST /api/items and refreshes the dashboard.
Edit button in each row:
Opens pre-filled form (modal or inline).
On Save â†’ calls PUT /api/items/:id and updates row.
Delete button in each row:
Shows confirm dialog.
On confirm â†’ calls DELETE /api/items/:id or sets is_active = false.
Refresh list without full page reload.
Refresh button (top-right or near title):
Re-fetch items from API and recalculate totals.
All buttons must be wired up with actual onClick handlers and real logic.
ğŸ§± STEP 4 â€“ STATE MANAGEMENT & UX
Use React hooks (useState, useEffect) to manage:
items
filteredItems
selectedCategory
searchTerm
loading, error
Show a loader when fetching.
Show user-friendly error messages.
Handle empty states (e.g., â€œNo items foundâ€).
ğŸ¨ STYLE (OPTIONAL BUT GOOD)
Keep styling consistent with existing app.
Use the blue + yellow theme if present.
Use badges for category and status for better readability.
ğŸ“Œ HOW TO RESPOND
Show:
The Supabase table definition (CREATE TABLE SQL).
The Node/Express (or API) routes for items (GET, POST, PUT, DELETE).
The complete React component for ProductsDashboard including:
Summary cards
Category filter buttons
Search bar
Items table
Add/Edit/Delete modals or forms
For each piece, clearly mention:
File path (e.g., server/routes/itemsRoutes.js, src/pages/ProductsDashboard.jsx).
Make sure all buttons and the search bar are fully wired and the dashboard is ready to plug into routing.
Your main objective:
Create a professional Products & Materials Dashboard for a Sugar Factory, with working buttons, search, and category-wise segregation, using React + Node + Supabase in this Replit project.